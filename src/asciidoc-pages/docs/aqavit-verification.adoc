= AQAvit Verification
:page-authors: gdams, smlambert, llxia
Version 0.1, 17.02.2022

The AQAvit project was created to “make quality certain to happen.” AQAvit verification is achieved through the process of running and passing a prescribed and versioned set of tests in the AQAvit test suite. As per the Eclipse Foundation Quality Verification Software License (QVSL) section 5b, a distributor who wants to certify their distributions then shares a summary of the test results by which verification was achieved.

AQAvit verification is one of the criteria for listing in the link:/marketplace[Adoptium Marketplace]. Leveraging the AQAvit test suite to ensure the quality of the binaries listed in the Adoptium Marketplace not only communicates to consumers how serious we are about quality, but also consolidates the good verification practices of the Adoptium Working Group members under a centralized effort. AQAvit aligns its test suite standards with the ever-changing requirements of the user base.

.AQAvit Test Targets to Run
The AQAvit test suite is a large set of tests many contributed to the AQAvit project and some pulled from a variety of open-source projects.  The tests are divided into different groups and those groups are split into 3 levels.  This logical categorization of the tests provides flexibility and granularity and can be visually represented in a grid.  

image::gridview.png["grid view",120,60]

For the initial releases of AQAvit, the required set of top-level test targets to run are [sanity.functional, extended.functional, special.functional, sanity.openjdk, extended.openjdk, sanity.system, extended.system, sanity.perf, extended.perf].  In subsequent AQAvit releases, targets will be added to raise quality bar even higher.

.Verifying Results
The AQAvit test suite produces test result files and metadata files at the end of the test execution. Upon running and passing each of the nine required test targets, the result files and metadata files are to be gathered and shared.  For test targets that contain failures, the root cause of the failure should be addressed and the target can be rerun and an updated test result file produced and shared.

.Basic Steps to Run AQAvit Test Targets via Command-line
[%collapsible]
|===
| | 
a|image::aqacert_basic_steps.png["basic steps",350,350]
a|
```
git clone -depth 1 -branch v0.8.0-release https://github.com/adoptium/aqa-tests.git 

export TEST_JDK_HOME=<path to binary> 
export USE_TESTENV_PROPERTIES=true 
export JDK_VERSION=17 
export JDK_IMPL=hotspot
export BUILD_LIST=functional 

cd aqa-tests
./get.sh
./compile.sh
cd TKG
make _sanity.functional 
… 
make _extended.system 

Collect *.tap file and metadata file 
Archive <results>.zip 
Publish <results>.zip
```
|===

.Basic Steps to Run AQAvit Test Targets via Github Workflow

.Basic Steps to Run AQAvit Test Targets via Jenkins

.AQAvit Verification Demonstration 
[%collapsible]
====
video::1EUi3iTZSzg[youtube]
====